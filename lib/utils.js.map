{"version":3,"sources":["../src/utils.js"],"names":["isElement","obj","nodeType","nodeName","setHeight","ele","y","style","minHeight","setTransition","del","transition","webkitTransition","dampingDiff","diff","max","height","rate","Math","abs","window","screen","supportsPassive","opts","Object","defineProperty","get","addEventListener","e","willPreventDefault","passive","notPreventDefault","isFull","clientHeight","scrollHeight"],"mappings":";;;;;;;;;;;;AAAA;;;;AAIO,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;AAC7B,SAAOA,GAAG,IAAI,OAAOA,GAAP,KAAe,QAAtB,IAAkCA,GAAG,CAACC,QAAJ,KAAiB,CAAnD,IAAwD,OAAOD,GAAG,CAACE,QAAX,KAAwB,QAAvF;AACD;;AAEM,SAASC,SAAT,CAAmBC,GAAnB,EAAwBC,CAAxB,EAA2B;AAChCA,EAAAA,CAAC,GAAGA,CAAC,GAAG,CAAJ,GAAQA,CAAR,GAAY,CAAhB;AACAD,EAAAA,GAAG,CAACE,KAAJ,CAAUC,SAAV,aAAyBF,CAAzB;AACD;AAED;;;;;;;AAKO,SAASG,aAAT,CAAuBJ,GAAvB,EAA4BK,GAA5B,EAAiC;AACtC,MAAIA,GAAJ,EAAS;AACPL,IAAAA,GAAG,CAACE,KAAJ,CAAUI,UAAV,GAAuB,EAAvB;AACAN,IAAAA,GAAG,CAACE,KAAJ,CAAUK,gBAAV,GAA6B,EAA7B;AACD,GAHD,MAGO;AACLP,IAAAA,GAAG,CAACE,KAAJ,CAAUI,UAAV,GAAuB,gBAAvB;AACAN,IAAAA,GAAG,CAACE,KAAJ,CAAUK,gBAAV,GAA6B,gBAA7B;AACD;AACF;AAED;;;;;AAGO,SAASC,WAAT,CAAqBC,IAArB,EAA2BC,GAA3B,EAAgCC,MAAhC,EAAwC;AAC7C,MAAIA,MAAM,IAAID,GAAV,IAAiBD,IAAI,IAAI,CAA7B,EAAgC;AAC9B,WAAO,CAAP;AACD,GAFD,MAEO;AACL,QAAMG,IAAI,GAAGC,IAAI,CAACC,GAAL,CAASL,IAAT,IAAiBM,MAAM,CAACC,MAAP,CAAcL,MAA5C;AACA,WAAOF,IAAI,IAAI,IAAIG,IAAR,CAAX;AACD;AACF,C,CAED;;;AACA,IAAIK,eAAe,GAAG,KAAtB;;AACA,IAAI;AACF,MAAMC,IAAI,GAAGC,MAAM,CAACC,cAAP,CAAsB,EAAtB,EAA0B,SAA1B,EAAqC;AAChDC,IAAAA,GADgD,iBAC1C;AACJJ,MAAAA,eAAe,GAAG,IAAlB;AACD;AAH+C,GAArC,CAAb;AAKAF,EAAAA,MAAM,CAACO,gBAAP,CAAwB,MAAxB,EAAgC,IAAhC,EAAsCJ,IAAtC;AACD,CAPD,CAOE,OAAOK,CAAP,EAAU,CAAE;;AACP,IAAMC,kBAAkB,GAAGP,eAAe,GAAG;AAAEQ,EAAAA,OAAO,EAAE;AAAX,CAAH,GAAwB,KAAlE;;AACA,IAAMC,iBAAiB,GAAGT,eAAe,GAAG;AAAEQ,EAAAA,OAAO,EAAE;AAAX,CAAH,GAAuB,KAAhE;AAEP;;;;;;;AAIO,SAASE,MAAT,CAAgB3B,GAAhB,EAAqB;AAC1B,SAAOA,GAAG,CAAC4B,YAAJ,KAAqB5B,GAAG,CAAC6B,YAAhC;AACD","sourcesContent":["/**\n * 判断一个对象是不是dom对象\n * @param {} obj\n */\nexport function isElement(obj) {\n  return obj && typeof obj === 'object' && obj.nodeType === 1 && typeof obj.nodeName === 'string';\n}\n\nexport function setHeight(ele, y) {\n  y = y > 0 ? y : 0;\n  ele.style.minHeight = `${y}px`;\n}\n\n/**\n * 设置/删除tansition动画\n * @param {*} ele\n * @param {*} del\n */\nexport function setTransition(ele, del) {\n  if (del) {\n    ele.style.transition = '';\n    ele.style.webkitTransition = '';\n  } else {\n    ele.style.transition = 'min-height .3s';\n    ele.style.webkitTransition = 'min-height .3s';\n  }\n}\n\n/**\n * 设置缓动，最大距离不会超过maxDistance\n */\nexport function dampingDiff(diff, max, height) {\n  if (height >= max && diff >= 0) {\n    return 0;\n  } else {\n    const rate = Math.abs(diff) / window.screen.height;\n    return diff * (1 - rate);\n  }\n}\n\n// 判断是否支持 passive 属性\nlet supportsPassive = false;\ntry {\n  const opts = Object.defineProperty({}, 'passive', {\n    get() {\n      supportsPassive = true;\n    },\n  });\n  window.addEventListener('test', null, opts);\n} catch (e) {}\nexport const willPreventDefault = supportsPassive ? { passive: false } : false;\nexport const notPreventDefault = supportsPassive ? { passive: true } : false;\n\n/**\n * 判断是否需要满屏加载\n * @param {*} ele\n */\nexport function isFull(ele) {\n  return ele.clientHeight === ele.scrollHeight;\n}\n"],"file":"utils.js"}